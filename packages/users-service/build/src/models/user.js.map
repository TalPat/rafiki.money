{"version":3,"file":"user.js","sourceRoot":"","sources":["../../../src/models/user.ts"],"names":[],"mappings":";;AAAA,yCAAiC;AASjC,MAAa,IAAK,SAAQ,iBAAK;IAC7B,MAAM,KAAK,SAAS;QAClB,OAAO,OAAO,CAAA;IAChB,CAAC;IASD,aAAa;QACX,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,CAAA;QACxD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,CAAA;IAC1D,CAAC;IAED,aAAa;QACX,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,CAAA;IAC1D,CAAC;IAED,WAAW;QACT,OAAO;YACL,EAAE,EAAE,IAAI,CAAC,EAAE;YACX,QAAQ,EAAE,IAAI,CAAC,QAAQ;YACvB,gBAAgB,EAAE,IAAI,CAAC,gBAAgB;SACxC,CAAA;IACH,CAAC;CACF;AA5BD,oBA4BC","sourcesContent":["import { Model } from 'objection'\n\nexport type UserInfo = {\n  id: number;\n  username: string;\n  password: string;\n  defaultAccountId: string;\n}\n\nexport class User extends Model {\n  static get tableName (): string {\n    return 'users'\n  }\n\n  id !: number\n  createdAt !: number\n  updatedAt !: number\n  username !: string\n  password !: string\n  defaultAccountId !: string\n\n  $beforeInsert (): void {\n    this.createdAt = Math.floor(new Date().getTime() / 1000)\n    this.updatedAt = Math.floor(new Date().getTime() / 1000)\n  }\n\n  $beforeUpdate (): void {\n    this.updatedAt = Math.floor(new Date().getTime() / 1000)\n  }\n\n  $formatJson (): Partial<UserInfo> {\n    return {\n      id: this.id,\n      username: this.username,\n      defaultAccountId: this.defaultAccountId\n    }\n  }\n}\n"]}