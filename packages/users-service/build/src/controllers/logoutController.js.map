{"version":3,"file":"logoutController.js","sourceRoot":"","sources":["../../../src/controllers/logoutController.ts"],"names":[],"mappings":";;AACA,6CAAyC;AAElC,KAAK,UAAU,KAAK,CAAE,GAAY;IACvC,MAAM,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,gBAAgB,CAAA;IAEpD,MAAM,YAAY,GAAG,MAAM,aAAK,CAAC,mBAAmB,CAAC,SAAS,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE;QAC5E,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,EAAE,+BAA+B,CAAC,CAAA;QACxD,MAAM,KAAK,CAAA;IACb,CAAC,CAAC,CAAA;IAEF,GAAG,CAAC,IAAI,GAAG;QACT,UAAU,EAAE,YAAY,CAAC,aAAa,CAAC;KACxC,CAAA;AACH,CAAC;AAXD,sBAWC","sourcesContent":["import { Context } from 'koa'\nimport { hydra } from '../services/hydra'\n\nexport async function store (ctx: Context): Promise<void> {\n  const challenge = ctx.request.query.logout_challenge\n\n  const acceptLogout = await hydra.acceptLogoutRequest(challenge).catch(error => {\n    ctx.logger.error(error, 'error in accept login request')\n    throw error\n  })\n\n  ctx.body = {\n    redirectTo: acceptLogout['redirect_to']\n  }\n}\n"]}