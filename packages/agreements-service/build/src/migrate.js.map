{"version":3,"file":"migrate.js","sourceRoot":"","sources":["../../src/migrate.ts"],"names":[],"mappings":";;;;;AAAA,gDAAuB;AAEvB,MAAM,0BAA0B,GAAG,OAAO,CAAC,GAAG,CAAC,0BAA0B,IAAI,UAAU,CAAA;AACvF,MAAM,IAAI,GAAS,cAAI,CAAC,0BAA0B,CAAC,CAAA;AAEnD,MAAM,KAAK,GAAG,KAAK,IAAmB,EAAE;IACtC,OAAO,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAA;IACjC,MAAM,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAA;IAC3B,OAAO,CAAC,GAAG,CAAC,6BAA6B,CAAC,CAAA;IAC1C,MAAM,IAAI,CAAC,OAAO,EAAE,CAAA;AACtB,CAAC,CAAA;AAED,KAAK,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE;IACpB,OAAO,CAAC,GAAG,CAAC,yBAAyB,EAAE,KAAK,CAAC,CAAA;AAC/C,CAAC,CAAC,CAAA","sourcesContent":["import Knex from 'knex'\n\nconst DATABASE_CONNECTION_STRING = process.env.DATABASE_CONNECTION_STRING || ':memory:'\nconst knex: Knex = Knex(DATABASE_CONNECTION_STRING)\n\nconst start = async (): Promise<void> => {\n  console.log('Migrating Database')\n  await knex.migrate.latest()\n  console.log('Finished migrating Database')\n  await knex.destroy()\n}\n\nstart().catch(error => {\n  console.log('error running migration', error)\n})\n"]}