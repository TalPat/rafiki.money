{"version":3,"file":"mandates.js","sourceRoot":"","sources":["../../../src/route-validation/mandates.ts"],"names":[],"mappings":";;;;;AAAA,oEAA+C;AAC/C,MAAM,GAAG,GAAG,wBAAM,CAAC,GAAG,CAAA;AACT,QAAA,KAAK,GAAW;IAC3B,QAAQ,EAAE;QACR,IAAI,EAAE,MAAM;QACZ,IAAI,EAAE,GAAG,CAAC,MAAM,CAAC;YACf,KAAK,EAAE,GAAG,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;YAC9B,KAAK,EAAE,GAAG,CAAC,MAAM,CAAC;gBAChB,IAAI,EAAE,GAAG,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;gBAC7B,KAAK,EAAE,GAAG,CAAC,MAAM,EAAE,CAAC,OAAO,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE;aACpD,CAAC,CAAC,QAAQ,EAAE;YACb,MAAM,EAAE,GAAG,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;YAC/B,MAAM,EAAE,GAAG,CAAC,MAAM,EAAE,CAAC,OAAO,EAAE,CAAC,QAAQ,EAAE;YACzC,QAAQ,EAAE,GAAG,CAAC,MAAM,EAAE,CAAC,KAAK,CAAC,mFAAmF,CAAC,CAAC,QAAQ,EAAE;YAC5H,KAAK,EAAE,GAAG,CAAC,MAAM,EAAE,CAAC,OAAO,EAAE,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,QAAQ,EAAE;YAC/D,MAAM,EAAE,GAAG,CAAC,MAAM,EAAE,CAAC,OAAO,EAAE,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,QAAQ,EAAE;YAChE,GAAG,EAAE,GAAG,CAAC,IAAI,EAAE,CAAC,QAAQ,EAAE;YAC1B,WAAW,EAAE,GAAG,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;YACpC,MAAM,EAAE,GAAG,CAAC,MAAM,EAAE,CAAC,OAAO,EAAE,CAAC,QAAQ,EAAE;YACzC,SAAS,EAAE,GAAG,CAAC,MAAM,EAAE,CAAC,OAAO,EAAE,CAAC,QAAQ,EAAE;YAC5C,OAAO,EAAE,GAAG,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;SACjC,CAAC;KACH;CACF,CAAA;AAEY,QAAA,MAAM,GAAW;IAC5B,QAAQ,EAAE;QACR,IAAI,EAAE,MAAM;QACZ,IAAI,EAAE;YACJ,MAAM,EAAE,GAAG,CAAC,MAAM,EAAE,CAAC,OAAO,EAAE,CAAC,QAAQ,EAAE;YACzC,SAAS,EAAE,GAAG,CAAC,MAAM,EAAE,CAAC,OAAO,EAAE,CAAC,QAAQ,EAAE;YAC/C,KAAK,EAAE,GAAG,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;YAC3B,SAAS,EAAE,GAAG,CAAC,MAAM,EAAE,CAAC,OAAO,EAAE,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,QAAQ,EAAE;SACpE;KACF;CACF,CAAA","sourcesContent":["import Router, { Config } from 'koa-joi-router'\nconst Joi = Router.Joi\nexport const store: Config = {\n  validate: {\n    type: 'json',\n    body: Joi.object({\n      scope: Joi.string().optional(),\n      asset: Joi.object({\n        code: Joi.string().required(),\n        scale: Joi.number().integer().greater(0).required()\n      }).required(),\n      amount: Joi.string().required(),\n      cycles: Joi.number().integer().optional(),\n      interval: Joi.string().regex(/^P(?=\\d+[YMWD])(\\d+Y)?(\\d+M)?(\\d+W)?(\\d+D)?(T(?=\\d+[HMS])(\\d+H)?(\\d+M)?(\\d+S)?)?$/).optional(),\n      start: Joi.number().integer().greater(1284901492000).optional(),\n      expiry: Joi.number().integer().greater(1284901492000).optional(),\n      cap: Joi.bool().optional(),\n      description: Joi.string().optional(),\n      userId: Joi.number().integer().optional(),\n      accountId: Joi.number().integer().optional(),\n      subject: Joi.string().optional()\n    })\n  }\n}\n\nexport const update: Config = {\n  validate: {\n    type: 'json',\n    body: {\n      userId: Joi.number().integer().optional(),\n      accountId: Joi.number().integer().optional(),\n\t\t\tscope: Joi.string().optional(),\t\t\t\n      cancelled: Joi.number().integer().greater(1284901492000).optional()\n    }\n  }\n}\n"]}